<<<<<<< HEAD
[2023-11-17] [Fix] - Corregidos mÃºltiples errores de runtime relacionados con manejo de cookies y URLs relativas - [AI]
- Actualizado endpoint de user-permissions para usar URL absoluta en fetch
- Corregido endpoint de roles/permissions para usar roleId en lugar de roleName
- Mejorado manejo de cookies en auth/callback/route.ts
- Resueltos problemas de acceso asÃ­ncrono a context.params

[2025-05-21] [Feature] - Re-aÃ±adidos los selects de Producto y Empresa en el formulario de creaciÃ³n de Leads - [XX] 
[2025-05-21] [Fix] - Corregido error de Radix UI con valores vacÃ­os en selects de Producto y Empresa - [XX] 
[2025-05-21] [Fix] - Mejorada validaciÃ³n en API de leads para verificar email Ãºnico y eliminar campo notas innecesario - [XX]
[2025-05-21] [Fix] - AÃ±adido campo de telÃ©fono mÃ³vil y autenticaciÃ³n de usuario en formulario de leads - [XX] 
[2025-04-27] [Schema] - Implementada funcionalidad de reserva con carga de documentos a Supabase Storage - [AI]
[2025-04-28] [Feature] - Implementada funcionalidad de registro de venta con subida de contrato de venta - [AI]
[2025-04-28] [Fix] - Corregido error de referencia 'id is not defined' en pÃ¡ginas de detalle de lead - [AI]
[2025-11-11] [Fix] - Actualizados los API routes para extraer parÃ¡metros de forma segura - [AI]
[2024-10-09] [Fix] - Corregido el tipado de params en las rutas API de leads - [AI]
[2025-05-27] [Schema] - AÃ±adidos campos description y scheduledFor al modelo Task para notas adicionales y programaciÃ³n - [AB]
[2025-05-27] [Feature] - Implementado flujo de dos pasos en creaciÃ³n de tareas con selector de fecha/hora y notas - [AB]
[2025-05-27] [Fix] - Corregido problema con la obtenciÃ³n del ID de usuario en la creaciÃ³n de tareas - [AB]
[2025-05-28] [Schema] - AÃ±adido campo qualification tipo enum LeadQualification a modelo Lead para calificaciÃ³n de leads - [AB]
[2025-05-28] [Feature] - Implementada funcionalidad de calificaciÃ³n de leads como Good/Bad - [AB]
[2025-05-28] [Feature] - Actualizado componente principal para filtrar leads marcados como Bad Lead - [AB]
[2025-05-28] [Fix] - Corregido error en API de calificaciÃ³n de leads para usar await con params.id - [AB]
[2023-06-19] [Fix] - Corregido el endpoint de calificaciÃ³n de leads que no funcionaba correctamente - [CL]
[2023-06-19] [Feature] - Agregada funcionalidad para actualizar la lista de leads inmediatamente despuÃ©s de calificar como "Bad Lead" - [CL]
[2023-06-19] [Refactor] - Mejorado el sistema de filtrado para incluir isArchived ademÃ¡s de qualification en la lista de leads - [CL]
[2023-06-19] [Schema] - AÃ±adida propiedad isArchived al tipo LeadWithRelations para TypeScript - [CL]
[2023-06-19] [Schema] - AÃ±adido campo isFavorite a la tabla Lead con Ã­ndice para mejorar rendimiento en filtrado - [CL]
[2023-06-19] [Feature] - Implementado menÃº de acciones en tarjetas de leads con opciones para ver detalles, editar y marcar favoritos - [CL]
[2023-06-19] [Feature] - Creado componente de ediciÃ³n de leads similar al de creaciÃ³n pero adaptado para actualizaciÃ³n - [CL]
[2023-06-19] [Feature] - Mejorada la visualizaciÃ³n de informaciÃ³n de usuario asignado y prÃ³xima tarea en las tarjetas de leads - [CL]
[2023-06-19] [API] - AÃ±adido endpoint para actualizar estado de favorito de leads con validaciÃ³n Zod - [CL]
[2025-06-01] [Feature] - Implementada bÃºsqueda funcional de leads con filtrado en tiempo real - [CL]
[2025-06-01] [Feature] - AÃ±adidas pestaÃ±as de filtrado: Sin Tareas, Tareas Hoy y Tareas Vencidas con contadores - [CL]
[2025-06-01] [Refactor] - Eliminado botÃ³n de filtros sin funcionalidad del panel de leads - [CL]
[2025-06-01] [Feature] - Mejorada la visualizaciÃ³n de contadores en pestaÃ±as con indicadores de color - [CL]
[2025-06-01] [Fix] - Optimizada la funciÃ³n de filtrado para mejor rendimiento en la visualizaciÃ³n de leads - [CL]
[2025-06-02] [Feature] - Implementada funcionalidad del selector de grado de interÃ©s para filtrar leads - [CL]
[2025-06-02] [Feature] - AÃ±adido indicador visual de qualityScore en las tarjetas de leads - [CL]
[2025-06-02] [Fix] - Corregido filtrado de leads segÃºn su qualityScore - [CL]
[2025-06-02] [Fix] - Optimizado el filtro "Sin Tareas" para verificar correctamente tareas pendientes - [CL]
[2025-06-05] [Fix] - Corregido el filtrado de leads por tareas incorporando tasks en el endpoint de la API - [CL]
[2025-06-05] [Fix] - Optimizada la lÃ³gica de filtrado en pestaÃ±as "Sin Tareas", "Tareas Hoy" y "Tareas Vencidas" - [CL]
[2025-06-05] [API] - AÃ±adida relaciÃ³n de tareas al endpoint de obtenciÃ³n de leads para mejor filtrado - [CL]
[2025-06-07] [Feature] - Implementado componente real de tareas pendientes con conexiÃ³n a la API - [CL]
[2025-06-07] [API] - AÃ±adido endpoint para obtener tareas pendientes con informaciÃ³n de leads - [CL]
[2025-06-07] [Feature] - AÃ±adida funcionalidad para completar tareas directamente desde el panel - [CL]
[2025-06-10] [Feature] - Implementadas acciones de lead: Contactar por WhatsApp, Agendar cita directa, Archivar y Eliminar lead - [AB]
[2025-06-10] [Feature] - Agregados diÃ¡logos de confirmaciÃ³n para operaciones permanentes (archivar/eliminar) de leads - [AB]
[2025-06-10] [Feature] - Mejorada la integraciÃ³n de TaskTypeDialog para permitir selecciÃ³n de tipo de tarea - [AB]
[2025-06-10] [Fix] - Corregidos errores de importaciÃ³n en componente lead-tasks.tsx para usar hooks del mÃ³dulo correcto - [AB]
[2025-04-25] [Fix] - Corregida la subida de documentos en el diÃ¡logo de reservaciÃ³n para incluir correctamente las URLs en la solicitud - [QD]
[2025-04-25] [Fix] - Corregida sincronizaciÃ³n de estado favorito entre lista de leads y detalle, incluyendo campo favoriteAt - [QD]
[2025-04-26] [Fix] - Corregido problema de sincronizaciÃ³n entre componentes al marcar/desmarcar favoritos evitando errores de setState - [QD]
[2025-04-26] [Fix] - Mejorado componente LeadCard para sincronizar cambios de favorito bidireccional entre lista y vista detalle - [QD]
[2024-04-29] [Schema] - Activada la relaciÃ³n quotationProducts entre Quotation y Product para guardar productos en cotizaciones - [CP]
[2024-04-29] [Feature] - Actualizado componente quotation-dialog.tsx para guardar los productos seleccionados en la cotizaciÃ³n - [CP]
[2024-04-29] [API] - Modificada la API de creaciÃ³n de cotizaciones para guardar los productos relacionados - [CP]
[2024-05-15] [Schema] - AÃ±adido modelo Role para gestiÃ³n de roles y permisos - [Dev]
[2024-05-15] [Schema] - Actualizado modelo User con relaciÃ³n a Role - [Dev]
[2024-05-15] [Feature] - Creada interfaz para gestiÃ³n de usuarios - [Dev]
[2024-05-15] [Feature] - Creada interfaz para gestiÃ³n de roles y permisos - [Dev]
[2024-05-15] [Feature] - Actualizada navegaciÃ³n del sidebar con secciÃ³n de roles - [Dev]
[2024-05-16] [Schema] - AÃ±adido modelo DashboardSection para gestiÃ³n dinÃ¡mica de secciones - [Dev]
[2024-05-16] [API] - Implementados endpoints para CRUD de secciones del dashboard - [Dev]
[2024-05-16] [API] - Implementados endpoints para CRUD de roles - [Dev]
[2024-05-16] [Feature] - Implementada estructura de permisos por secciones anidadas - [Dev]
[2024-05-16] [Util] - Creado hook usePermissions para gestiÃ³n de permisos en el frontend - [Dev]
[2024-05-16] [Util] - Creadas utilidades para generar estructuras de permisos predefinidas - [Dev]
[2024-05-16] [API] - Implementados endpoints para sembrado de datos iniciales de secciones y roles - [Dev]
[2025-04-26] [Feature] - ImplementaciÃ³n de sistema de control de acceso basado en roles - [AI]
- Creado middleware para proteger rutas basado en roles
- Desarrollado hook useRolePermissions para obtener y verificar permisos
- Modificado sidebar para mostrar sÃ³lo elementos autorizados por rol
- Creado componente ProtectedRoute para envolver rutas protegidas
- Implementado API endpoint para obtener permisos por nombre de rol
- Actualizado auth.ts para incluir funciones de verificaciÃ³n de roles
[2025-04-27] [Fix] - Corregido error "Maximum update depth exceeded" en sistema de permisos - [AI]
- Implementada memorizaciÃ³n (useCallback, useMemo) en hooks y componentes relacionados con permisos
- Optimizado AppSidebar para evitar bucles de actualizaciÃ³n con useMemo
- ProtecciÃ³n contra condiciones de carrera en useRolePermissions con flag isMounted
- Mejorada funciÃ³n filterSidebarByPermissions para manejar casos de error
[2025-06-19] [Refactor] - Migrado sistema de autenticaciÃ³n de tabla profiles a tabla users - [AI]
- Actualizado AuthProvider para usar users en lugar de profiles
- Modificado endpoint de API /profile/[id] para obtener datos de users
- Implementado endpoint para creaciÃ³n de usuarios con roles obligatorios
- Eliminado registro pÃºblico de usuarios (solo admins pueden crear usuarios)
[2023-08-01] [Fix] - Corregido sistema de autenticaciÃ³n completo para evitar ciclos de redirecciÃ³n y mejorar validaciÃ³n - [AI]
- Implementada validaciÃ³n de roles y estado activo de usuario en auth-provider
- Actualizado componente UserAuthForm para mostrar errores especÃ­ficos
- Mejorados mensajes de error en espaÃ±ol para mejor experiencia de usuario
[2023-08-02] [Fix] - Eliminadas redirecciones problemÃ¡ticas en el layout para evitar errores NEXT_REDIRECT - [AI]
- Reemplazada redirecciÃ³n en el layout por componente estÃ¡tico
- Mantenida limpieza de sesiÃ³n en auth.ts al detectar problemas
- Corregido manejo de cookies asÃ­ncronas en componentes del servidor
[2023-09-15] [Fix] - Corregido error de modificaciÃ³n de cookies en layout, trasladando la limpieza de sesiÃ³n a una API dedicada - [AI]
[2023-09-16] [Fix] - Creada API para acceso seguro a datos de usuario desde el cliente, evitando consultas directas a la tabla 'users' - [AI]
[2023-09-17] [Feature] - Implementado proceso completo de registro con asignaciÃ³n automÃ¡tica del rol de Super Administrator - [AI]
[2023-09-18] [Fix] - Mejorado endpoint de usuarios para funcionar con y sin autenticaciÃ³n mediante parÃ¡metro requireAuth - [AI]
[2023-09-19] [Refactor] - Unificado proceso de autenticaciÃ³n para usar exclusivamente la API de usuarios, eliminando consultas directas a Supabase - [AI]
[2023-11-13] [Fix] - Implementado nuevo sistema de autenticaciÃ³n con Supabase para componentes de servidor - [AI]
- Reemplazada la funciÃ³n createClient por createServerComponentClient para manejo correcto de cookies
- Mejorada la validaciÃ³n de sesiones usando getUser() en lugar de getSession()
- Corregido el manejo de redirecciones en el layout del dashboard para prevenir errores NEXT_REDIRECT
- Optimizada la detecciÃ³n de sesiones invÃ¡lidas sin causar errores en el servidor

[2023-11-14] [Fix] - Corregido error de construcciÃ³n causado por importar next/headers en componentes cliente - [AI]
- AÃ±adida directiva "use server" a auth.ts para marcar el mÃ³dulo como solo para el servidor
- Creados endpoints API seguros en /api/auth para verificar roles y acceso a rutas
- Implementada librerÃ­a server-auth.ts con funciones seguras para componentes cliente
- Refactorizados componentes protected-route.tsx y useRolePermissions.ts para usar las nuevas APIs seguras
- Eliminadas importaciones directas a auth.ts desde componentes cliente

[2023-11-15] [Fix] - Solucionado problema de redirecciones infinitas en pantallas de autenticaciÃ³n - [AI]
- Corregido getSupabase() para usar cookies de forma asÃ­ncrona con createServerComponentClient
- Mejorado layout de dashboard para mostrar error estÃ¡tico en lugar de redirigir con sesiones invÃ¡lidas
- Optimizados endpoints de autenticaciÃ³n API para retornar respuestas vacÃ­as en vez de errores
- Implementado mejor manejo de errores en el hook useRolePermissions

[2023-11-16] [Fix] - Corregido error de relaciÃ³n entre users y roles que impedÃ­a la autenticaciÃ³n - [AI]
- Reemplazada consulta directa a Supabase en auth.ts por uso de API /api/users/[id]
- Actualizado endpoint de usuarios para manejar correctamente parÃ¡metros de forma asÃ­ncrona
- Solucionado problema de sincronizaciÃ³n entre el schema de Prisma y la estructura de Supabase
- Implementado manejo robusto de errores en el flujo de autenticaciÃ³n

[2023-11-16] [Fix] - Solucionado error de URL invÃ¡lida en la autenticaciÃ³n - [AI]
- Corregida la construcciÃ³n de URL en auth.ts usando URL API para crear URLs completas y vÃ¡lidas
- Refactorizado manejo de parÃ¡metros en endpoint de usuarios para evitar errores de acceso sincrÃ³nico
- Mejorada la compatibilidad entre entornos locales y de producciÃ³n mediante variables de entorno

[2023-11-18] [Fix] - Corregidos errores de obtenciÃ³n de perfil de usuario y adaptado hook useCurrentUser - [AI]
- Modificado hook useCurrentUser para usar /api/users/[id] en lugar de /api/profile que fallaba
- Adaptado formato de datos entre API de usuarios y modelo de perfil esperado por la aplicaciÃ³n
- Corregida URL de cerrar sesiÃ³n en ProfileDropdown para usar endpoint funcional 
- Corregido error de tipado en settings-form.tsx para manejar errores correctamente
- Actualizado componente NavUser para usar useCurrentUser en lugar de useAuth
- Traducidos textos del menÃº de usuario en NavUser a espaÃ±ol

[2023-11-19] [Fix] - Corregido sistema de permisos anidados para mostrar correctamente secciones como "AdministraciÃ³n" - [AI]
- Mejorada funciÃ³n filterSidebarByPermissions para detectar correctamente permisos de secciones anidadas
- Actualizado hook useRolePermissions para manejar notaciÃ³n con punto (admin.roles) en verificaciÃ³n de permisos
- Optimizada lÃ³gica de filtrado para verificar tanto permisos del padre como del elemento hijo anidado

[2023-11-16] [Refactor] - Mejorado sistema de control de acceso basado en roles. Redireccionamiento a /access-denied en lugar de /dashboard cuando el usuario no tiene permisos. - [AI]

[2023-11-17] [Feature] - Actualizado middleware para implementar verificaciÃ³n de permisos basada en datos del usuario - [AI]
- Reemplazado sistema de roles estÃ¡tico por verificaciÃ³n dinÃ¡mica usando el campo permissions
- Implementada normalizaciÃ³n de rutas para extraer secciones principales (/admin/roles -> admin)
- AÃ±adida verificaciÃ³n contra la tabla dashboard_sections para validar secciones
- Mejorado soporte para secciones anidadas con verificaciÃ³n de permisos padre-hijo
- Optimizado manejo de errores con redirecciÃ³n a /access-denied

[2023-11-18] [Fix] - Mejorada experiencia de usuario en la barra lateral durante carga de permisos - [AI]
- AÃ±adido estado de carga con esqueletos (skeletons) para mantener estructura consistente
- Eliminada desapariciÃ³n repentina de secciones al cargar permisos
- Implementada transiciÃ³n suave entre estado de carga y sidebar con permisos aplicados

[2023-11-18] [Fix] - Corregido y mejorado sistema de protecciÃ³n de rutas en el middleware - [AI]
- Implementado mapeo explÃ­cito entre rutas y claves de permisos para evitar errores
- AÃ±adida verificaciÃ³n mÃ¡s estricta de rutas protegidas como /users
- Mejorada detecciÃ³n de rutas anidadas como /admin/roles
- Agregado registro de verificaciones para facilitar diagnÃ³stico de problemas de permisos

[2023-11-19] [Fix] - Solucionado problema crÃ­tico con las rutas protegidas en el middleware - [AI]
- Separada explÃ­citamente la verificaciÃ³n de rutas API de las rutas de navegaciÃ³n
- AÃ±adidos logs detallados para detectar problemas de intercepciÃ³n de rutas
- Mejorado el matcher de rutas para incluir explÃ­citamente /users y otras rutas crÃ­ticas
- Refactorizada la lÃ³gica de verificaciÃ³n de rutas anidadas para mayor claridad
- Optimizado tratamiento de permisos para evitar condiciones de carrera

[2023-11-20] [Fix] - Corregido error crÃ­tico en middleware que detectaba incorrectamente rutas como pÃºblicas - [AI]
- Modificada la funciÃ³n isPublicRoute para tratar la ruta raÃ­z "/" como caso especial
- Actualizado el matcher para excluir explÃ­citamente las rutas /api/
- Implementado manejo especÃ­fico para evitar que todas las rutas se consideren pÃºblicas
- Mejorado el sistema de logging para facilitar la depuraciÃ³n de problemas de middleware

[2023-11-21] [Fix] - Solucionado error "permission denied for schema public" en middleware - [AI]
- Reemplazado acceso directo a la base de datos con llamada a API existente
- Implementada construcciÃ³n de URL segura con protocolo y host dinÃ¡micos
- Mejorado el manejo de permisos para soportar formato de string JSON o objeto
- Optimizado sistema de logging para mejor diagnÃ³stico de problemas de permisos

[2023-11-21] [Fix] - Corregido acceso a rutas anidadas de administraciÃ³n como /admin/roles - [AI]
- Mejorado algoritmo de verificaciÃ³n de permisos para reconocer correctamente permisos anidados
- Implementada verificaciÃ³n en dos niveles: permiso directo y permiso padre
- AÃ±adido soporte explÃ­cito para notaciÃ³n con punto (admin.roles)
- Extendido sistema de logging para facilitar depuraciÃ³n de problemas de permisos especÃ­ficos

[2023-11-22] [Fix] - Solucionado problema con estructura anidada de permisos para secciones de administraciÃ³n - [AI]
- Implementada funciÃ³n auxiliar checkPermission para manejar estructuras de permisos complejas
- AÃ±adido soporte para permisos con formato de anidamiento mÃºltiple (sections.admin.roles.view)
- Mejorada detecciÃ³n de permisos tanto en formato plano como en formato anidado
- Agregado sistema de logs detallado que muestra todas las secciones disponibles y sus permisos
- Implementado diagnÃ³stico avanzado para identificar problemas en la estructura de permisos
[2024-09-18] [Feature] - Modificado sistema de registro de usuarios para usar supabase.auth.signUp en lugar de admin.createUser - [QCM]
[2024-09-18] [Feature] - AÃ±adida selecciÃ³n dinÃ¡mica de roles en el formulario de registro - [QCM]

[2023-11-17] [API] - Implementado CRUD completo para el mÃ³dulo de usuarios - roles, permisos y validaciÃ³n -[QS]

[2023-11-17] [Fix] - Mejorada la verificaciÃ³n de permisos en API usuarios utilizando roleId y JSON permissions -[QS]

[2023-11-17] [Fix] - Se actualizÃ³ la verificaciÃ³n de permisos en mÃ³dulo de usuarios para usar roleId y permisos JSON en lugar de nombres de rol -[QS]

[2024-09-18] [Feature] - Actualizada pÃ¡gina de usuarios para usar TanStack Table y aÃ±adida visualizaciÃ³n de contraseÃ±as - [QCM]
[2024-09-18] [Fix] - Modificado API de usuarios para usar supabaseAdmin en operaciones de administraciÃ³n - [QCM]

[2024-09-18] [Feature] - Implementado sistema de generaciÃ³n automÃ¡tica de contraseÃ±as para nuevos usuarios - [QCM]
[2024-09-18] [API] - Creado endpoint para recuperar contraseÃ±as almacenadas en memoria del servidor - [QCM]

[2024-09-18] [API] - Restaurado endpoint para recuperar contraseÃ±as desencriptadas desde la base de datos - [QCM]

[2025-05-05] [Fix] - Mejorada seguridad en manejo de contraseÃ±as: eliminado campo encPassword de User model, implementado sistema de restablecimiento de contraseÃ±as - [QL]
[2025-05-05] [Fix] - Ajustado diseÃ±o de diÃ¡logos de credenciales para mantener consistencia con el tema oscuro de la aplicaciÃ³n - [QL]
[2025-05-05] [Feature] - Implementado formulario de ediciÃ³n de usuarios con gestiÃ³n de estado activo y cambio de rol - [QL]

[2025-05-08] [Feature] - Implementada secciÃ³n de AdministraciÃ³n de Leads con configuraciones dinÃ¡micas - [BR]
- Creada estructura de UI para Estados de Lead, CategorÃ­as de Fuente, Fuentes de Lead y Motivos de Cierre
- AÃ±adida estructura de carpetas bajo src/app/(dashboard)/admin/leads/ con todas las subsecciones
- Implementadas tablas responsivas con vista previa de datos, bÃºsqueda y filtros
- AÃ±adida funcionalidad visual para reordenaciÃ³n de estados de lead
- Configurada estructura para la integraciÃ³n posterior con la base de datos
- Preparada la secciÃ³n leads-settings para incorporaciÃ³n al sidebar

[2023-02-16] [Schema] - AÃ±adido campo isActive a modelo LeadStatus - [QS]
[2023-02-17] [Fix] - Corregido autocompletado de valores en formulario de ediciÃ³n de estados - [QS]
[2023-02-17] [Fix] - Implementada asignaciÃ³n automÃ¡tica de displayOrder en nuevos estados - [QS]
[2023-02-17] [UX] - Mejorada UX de estados de lead: eliminado campo de orden del formulario, solo se permite modificaciÃ³n mediante flechas en tabla - [QS]

[2023-10-20] [Schema] - ImplementaciÃ³n del CRUD completo para categorÃ­as de fuente (SourceCategory) - [QD]
[2023-10-20] [Feature] - CreaciÃ³n de componentes y rutas de API para administrar categorÃ­as de fuente - [QD]
[2023-10-20] [Feature] - ImplementaciÃ³n de interfaz de usuario para categorÃ­as de fuente con funcionalidad de bÃºsqueda - [QD]

[2023-10-21] [Schema] - ImplementaciÃ³n del CRUD completo para fuentes de lead (LeadSource) - [QD]
[2023-10-21] [Feature] - CreaciÃ³n de componentes y rutas de API para administrar fuentes de lead - [QD]
[2023-10-21] [Feature] - ImplementaciÃ³n de interfaz de usuario para fuentes de lead con funcionalidad de bÃºsqueda y selecciÃ³n de categorÃ­as - [QD]

[2025-05-09] [Feature] - AÃ±adida secciÃ³n de gestiÃ³n de productos con funcionalidad CRUD completa - [AL]
- Creado componente Products para administrar catÃ¡logo de productos
- Implementada interfaz de usuario con 3 pestaÃ±as: InformaciÃ³n BÃ¡sica, Especificaciones, Precios
- AÃ±adidos componentes modales para la creaciÃ³n de BusinessTypes, Brands y Models in-line
- Creados endpoints API para operaciones CRUD de productos
- Actualizados permisos para SuperAdmin y Admin
- AÃ±adida entrada en sidebar "Productos" bajo secciÃ³n "AdministraciÃ³n"

[2024-07-05] [Fix] - Corregido error de accesibilidad en ProductsEditDialog agregando DialogTitle al estado de carga - [QC]

[ 2 0 2 5 - 0 5 - 1 2 ]   [ F i x ]   -   C o r r e g i d o   p r o b l e m a   d e   U R L   e n   e n t o r n o   d e   p r o d u c c i ó n   -   [ I R ]  
 [ 2 0 2 3 - 1 1 - 1 3 ]   [ F i x ]   -   C o r r e g i d o   p r o b l e m a   d e   U R L   e n   e n t o r n o   d e   p r o d u c c i ó n   -   [ I R ]  
 [ 2 0 2 3 - 1 1 - 2 0 ]   [ F i x ]   -   C o r r e g i d o   p r o b l e m a   d e   a u t e n t i c a c i ó n   e n   e n t o r n o   d e   p r o d u c c i ó n   q u e   c a u s a b a   e r r o r   ' s e s s i o n   n u l l '   -   [ I R ]  
 [ 2 0 2 3 - 1 1 - 2 0 ]   [ F i x ]   -   I m p l e m e n t a d a   s o l u c i ó n   r o b u s t a   p a r a   p r o b l e m a   d e   a u t e n t i c a c i ó n   e n   V e r c e l   c a u s a n d o   e r r o r   ' s e s s i o n   n u l l '   -   [ I R ]  
 
=======
[2025-05-21] [Feature] - Re-aÃ±adidos los selects de Producto y Empresa en el formulario de creaciÃ³n de Leads - [XX] 
[2025-05-21] [Fix] - Corregido error de Radix UI con valores vacÃ­os en selects de Producto y Empresa - [XX] 
[2025-05-21] [Fix] - Mejorada validaciÃ³n en API de leads para verificar email Ãºnico y eliminar campo notas innecesario - [XX]
[2025-05-21] [Fix] - AÃ±adido campo de telÃ©fono mÃ³vil y autenticaciÃ³n de usuario en formulario de leads - [XX] 
[2025-04-27] [Schema] - Implementada funcionalidad de reserva con carga de documentos a Supabase Storage - [AI]
[2025-04-28] [Feature] - Implementada funcionalidad de registro de venta con subida de contrato de venta - [AI]
[2025-04-28] [Fix] - Corregido error de referencia 'id is not defined' en pÃ¡ginas de detalle de lead - [AI]
[2025-11-11] [Fix] - Actualizados los API routes para extraer parÃ¡metros de forma segura - [AI]
[2024-10-09] [Fix] - Corregido el tipado de params en las rutas API de leads - [AI]
[2025-05-27] [Schema] - AÃ±adidos campos description y scheduledFor al modelo Task para notas adicionales y programaciÃ³n - [AB]
[2025-05-27] [Feature] - Implementado flujo de dos pasos en creaciÃ³n de tareas con selector de fecha/hora y notas - [AB]
[2025-05-27] [Fix] - Corregido problema con la obtenciÃ³n del ID de usuario en la creaciÃ³n de tareas - [AB]
[2025-05-28] [Schema] - AÃ±adido campo qualification tipo enum LeadQualification a modelo Lead para calificaciÃ³n de leads - [AB]
[2025-05-28] [Feature] - Implementada funcionalidad de calificaciÃ³n de leads como Good/Bad - [AB]
[2025-05-28] [Feature] - Actualizado componente principal para filtrar leads marcados como Bad Lead - [AB]
[2025-05-28] [Fix] - Corregido error en API de calificaciÃ³n de leads para usar await con params.id - [AB]
[2023-06-19] [Fix] - Corregido el endpoint de calificaciÃ³n de leads que no funcionaba correctamente - [CL]
[2023-06-19] [Feature] - Agregada funcionalidad para actualizar la lista de leads inmediatamente despuÃ©s de calificar como "Bad Lead" - [CL]
[2023-06-19] [Refactor] - Mejorado el sistema de filtrado para incluir isArchived ademÃ¡s de qualification en la lista de leads - [CL]
[2023-06-19] [Schema] - AÃ±adida propiedad isArchived al tipo LeadWithRelations para TypeScript - [CL]
[2023-06-19] [Schema] - AÃ±adido campo isFavorite a la tabla Lead con Ã­ndice para mejorar rendimiento en filtrado - [CL]
[2023-06-19] [Feature] - Implementado menÃº de acciones en tarjetas de leads con opciones para ver detalles, editar y marcar favoritos - [CL]
[2023-06-19] [Feature] - Creado componente de ediciÃ³n de leads similar al de creaciÃ³n pero adaptado para actualizaciÃ³n - [CL]
[2023-06-19] [Feature] - Mejorada la visualizaciÃ³n de informaciÃ³n de usuario asignado y prÃ³xima tarea en las tarjetas de leads - [CL]
[2023-06-19] [API] - AÃ±adido endpoint para actualizar estado de favorito de leads con validaciÃ³n Zod - [CL]
[2025-06-01] [Feature] - Implementada bÃºsqueda funcional de leads con filtrado en tiempo real - [CL]
[2025-06-01] [Feature] - AÃ±adidas pestaÃ±as de filtrado: Sin Tareas, Tareas Hoy y Tareas Vencidas con contadores - [CL]
[2025-06-01] [Refactor] - Eliminado botÃ³n de filtros sin funcionalidad del panel de leads - [CL]
[2025-06-01] [Feature] - Mejorada la visualizaciÃ³n de contadores en pestaÃ±as con indicadores de color - [CL]
[2025-06-01] [Fix] - Optimizada la funciÃ³n de filtrado para mejor rendimiento en la visualizaciÃ³n de leads - [CL]
[2025-06-02] [Feature] - Implementada funcionalidad del selector de grado de interÃ©s para filtrar leads - [CL]
[2025-06-02] [Feature] - AÃ±adido indicador visual de qualityScore en las tarjetas de leads - [CL]
[2025-06-02] [Fix] - Corregido filtrado de leads segÃºn su qualityScore - [CL]
[2025-06-02] [Fix] - Optimizado el filtro "Sin Tareas" para verificar correctamente tareas pendientes - [CL]
[2025-06-05] [Fix] - Corregido el filtrado de leads por tareas incorporando tasks en el endpoint de la API - [CL]
[2025-06-05] [Fix] - Optimizada la lÃ³gica de filtrado en pestaÃ±as "Sin Tareas", "Tareas Hoy" y "Tareas Vencidas" - [CL]
[2025-06-05] [API] - AÃ±adida relaciÃ³n de tareas al endpoint de obtenciÃ³n de leads para mejor filtrado - [CL]
[2025-06-07] [Feature] - Implementado componente real de tareas pendientes con conexiÃ³n a la API - [CL]
[2025-06-07] [API] - AÃ±adido endpoint para obtener tareas pendientes con informaciÃ³n de leads - [CL]
[2025-06-07] [Feature] - AÃ±adida funcionalidad para completar tareas directamente desde el panel - [CL]
[2025-06-10] [Feature] - Implementadas acciones de lead: Contactar por WhatsApp, Agendar cita directa, Archivar y Eliminar lead - [AB]
[2025-06-10] [Feature] - Agregados diÃ¡logos de confirmaciÃ³n para operaciones permanentes (archivar/eliminar) de leads - [AB]
[2025-06-10] [Feature] - Mejorada la integraciÃ³n de TaskTypeDialog para permitir selecciÃ³n de tipo de tarea - [AB]
[2025-06-10] [Fix] - Corregidos errores de importaciÃ³n en componente lead-tasks.tsx para usar hooks del mÃ³dulo correcto - [AB]
[2025-04-25] [Fix] - Corregida la subida de documentos en el diÃ¡logo de reservaciÃ³n para incluir correctamente las URLs en la solicitud - [QD]
[2025-04-25] [Fix] - Corregida sincronizaciÃ³n de estado favorito entre lista de leads y detalle, incluyendo campo favoriteAt - [QD]
[2025-04-26] [Fix] - Corregido problema de sincronizaciÃ³n entre componentes al marcar/desmarcar favoritos evitando errores de setState - [QD]
[2025-04-26] [Fix] - Mejorado componente LeadCard para sincronizar cambios de favorito bidireccional entre lista y vista detalle - [QD]
[2024-04-29] [Schema] - Activada la relaciÃ³n quotationProducts entre Quotation y Product para guardar productos en cotizaciones - [CP]
[2024-04-29] [Feature] - Actualizado componente quotation-dialog.tsx para guardar los productos seleccionados en la cotizaciÃ³n - [CP]
[2024-04-29] [API] - Modificada la API de creaciÃ³n de cotizaciones para guardar los productos relacionados - [CP]
>>>>>>> parent of 2bfa236 (Merge pull request #4 from boring-ventures/users_section)
